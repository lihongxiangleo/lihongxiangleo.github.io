<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Roboto:300,300italic,400,400italic,700,700italic|Roboto:300,300italic,400,400italic,700,700italic|Indie Flower:300,300italic,400,400italic,700,700italic|Menlo:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/images/L_by_Sylfira.jpg?v=5.0.2" />






<meta name="description" content="AndroidDeveloper Popping Dancer">
<meta property="og:type" content="website">
<meta property="og:title" content="Leo's Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Leo's Blog">
<meta property="og:description" content="AndroidDeveloper Popping Dancer">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Leo's Blog">
<meta name="twitter:description" content="AndroidDeveloper Popping Dancer">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/"/>


  <title> Leo's Blog </title>
</head>



<body itemscope itemtype="//schema.org/WebPage" lang="en">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?4cfdc93013f88a4545a18367a557c1ed";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta custom-logo">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Leo's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Stay Hungry Stay Foolish</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/27/DeepLink/" itemprop="url">
                  DeepLink
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2017-03-27T14:14:58+08:00" content="2017-03-27">
              2017-03-27
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/03/27/DeepLink/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/27/DeepLink/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2017/03/27/DeepLink/" class="leancloud_visitors" data-flag-title="DeepLink">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">visitors </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="DeepLink-æ˜¯ä»€ä¹ˆ"><a href="#DeepLink-æ˜¯ä»€ä¹ˆ" class="headerlink" title="DeepLink æ˜¯ä»€ä¹ˆ"></a>DeepLink æ˜¯ä»€ä¹ˆ</h2><p>DeepLink ä»å­—é¢æ„æ€å¯ä»¥ç†è§£ä¸ºã€Œæ·±åº¦é“¾æ¥ã€ï¼Œé‚£ä¹ˆ DeepLink åœ¨ Android å¼€å‘ä¸­æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿç®€å•æ¥è¯´ï¼Œå¯ä»¥ç”¨è¿™ç§æŠ€æœ¯å®ç° web é¡µé¢ç‚¹å‡»ä¸€ä¸ªé“¾æ¥è·³è½¬è‡³ APP æŒ‡å®šçš„æŸä¸€é¡µé¢ã€‚è¿™ç§æŠ€æœ¯çš„å¥½å¤„æ˜¯å¯ä»¥ä¸ºæˆ‘ä»¬çš„ APP å¯¼æµã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å…¬å¸æ˜¯åšä¸€ä¸ªæˆ¿äº§å¹³å°çš„ï¼Œå¦‚æœç”¨æˆ·åœ¨æµè§ˆå™¨ä¸Šçœ‹åˆ°æ–°æˆ¿åˆ—è¡¨çš„ä¿¡æ¯ï¼Œå¹¶ä¸”æ‰‹æœºä¸Šå·²ç»å®‰è£…äº†åº”ç”¨çš„è¯ï¼Œä¾¿å¯ä»¥ç›´æ¥è·³è½¬åˆ° APP çš„æˆ¿äº§åˆ—è¡¨é¡µé¢ï¼ŒåŸç”Ÿé¡µé¢åœ¨ä½“éªŒå’ŒåŠŸèƒ½ä¸Šå½“ç„¶æ˜¯è¦æ¯” H5 é¡µé¢å¼ºå¤šäº†ã€‚å¦‚æœæ­¤æ—¶æ²¡æœ‰å®‰è£…åº”ç”¨å¯ä»¥ç›´æ¥è·³è½¬è‡³ä¸‹ä¸€ä¸ª H5 é¡µé¢æˆ–è€…æç¤ºç”¨æˆ·è·³è½¬åˆ°åº”ç”¨å¸‚åœºä¸‹è½½åº”ç”¨ã€‚</p>
<h2 id="å¦‚ä½•ä½¿ç”¨-DeepLink"><a href="#å¦‚ä½•ä½¿ç”¨-DeepLink" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ DeepLink"></a>å¦‚ä½•ä½¿ç”¨ DeepLink</h2><p>æˆ‘ä»¬çš„åº”ç”¨ä½¿ç”¨çš„æ˜¯ Scheme çš„æ–¹å¼æ¥å®ç°çš„ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œæ¥çœ‹çœ‹æ­£ç¡®çš„ä½¿ç”¨å§¿åŠ¿ã€‚ä»¥æˆ‘è‡ªå·±çš„é¡¹ç›®ä¸ºä¾‹ã€‚æˆ‘ä»¬éœ€è¦åœ¨æ¸…å•æ–‡ä»¶ manifest ä¸­æ·»åŠ  intent-filterã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">activity</span></div><div class="line">      <span class="attr">android:name</span>=<span class="string">".common.activity.WebStarterActivity"</span></div><div class="line">      <span class="attr">android:launchMode</span>=<span class="string">"singleTask"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"android.intent.action.VIEW"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">"android.intent.category.DEFAULT"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">"android.intent.category.BROWSABLE"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">data</span></div><div class="line">                <span class="attr">android:host</span>=<span class="string">"app.xxx.com"</span></div><div class="line">                <span class="attr">android:scheme</span>=<span class="string">"openxxx"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">data</span></div><div class="line">                <span class="attr">android:host</span>=<span class="string">"app.xxx.com"</span></div><div class="line">                <span class="attr">android:scheme</span>=<span class="string">"tel"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">activity</span>&gt;</span></div></pre></td></tr></table></figure>
<p>åœ¨å¯¹åº” Activity ä¸­çš„ä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (getIntent() != <span class="keyword">null</span> &amp;&amp; getIntent().getData() != <span class="keyword">null</span>) &#123;</div><div class="line">            String refer = getIntent().getData().getQueryParameter(<span class="string">"refer"</span>);</div><div class="line">            String path = getIntent().getData().getPath();</div><div class="line">            ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸­é—´çœå»äº†ä¸šåŠ¡é€»è¾‘ä»£ç ï¼Œçœ‹åˆ°è¿™é‡Œå¤§å®¶å¯èƒ½ä¸å¤ªæ˜ç™½ Activiy ä¸­çš„ä»£ç æ˜¯ä»€ä¹ˆæ„æ€ï¼Œè¿™é‡Œè¦ç®€å•çš„è¯´ä¸€ä¸‹ URL Scheme åè®®çš„æ ¼å¼ã€‚</p>
<h2 id="URL-Scheme-åè®®æ ¼å¼"><a href="#URL-Scheme-åè®®æ ¼å¼" class="headerlink" title="URL Scheme åè®®æ ¼å¼"></a>URL Scheme åè®®æ ¼å¼</h2><p>ä»¥æˆ‘è‡ªå·±é¡¹ç›®ä¸­å®šçš„åè®®ä¸ºä¾‹ï¼Œä¸€ä¸ªå®Œæ•´çš„ URL Schema åè®®æ ¼å¼ï¼š</p>
<pre><code>openxxx://app.xxx.com/newhouselist?city_id=xxxx&amp;refer=xxxx
</code></pre><p>ä¸Šé¢åŒ…å«äº† schemeã€hostã€pathã€queryã€‚</p>
<ul>
<li>openxxx ä»£è¡¨è¯¥ Scheme åè®®åç§°ï¼ˆschemeï¼‰</li>
<li>app.xxx.com ä»£è¡¨ Scheme ä½œç”¨äºå“ªä¸ªåœ°å€åŸŸï¼ˆhostï¼‰</li>
<li>newhouselist ä»£è¡¨ Scheme æŒ‡å®šçš„é¡µé¢ï¼ˆpathï¼‰</li>
<li>city_id ä»£è¡¨ä¼ é€’çš„å‚æ•°ï¼ˆqueryï¼‰</li>
</ul>
<p>ç„¶åæˆ‘ä»¬å¯ä»¥åœ¨ Activity ä¸­è·å– path å†è·³è½¬è‡³å¯¹åº”çš„é¡µé¢ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ getQueryParameter() æ–¹æ³•æ¥è·å–å‚æ•°æ¥ä¼ é€’ç»™è¦è·³è½¬çš„é¡µé¢ã€‚</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/2017/03/27/DeepLink/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/18/è§£å†³è”ç½‘æœåŠ¡ç«¯è¿”å›405é—®é¢˜/" itemprop="url">
                  è§£å†³è”ç½‘ä¸‹è½½æœåŠ¡ç«¯è¿”å›405é—®é¢˜
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-11-18T09:30:46+08:00" content="2016-11-18">
              2016-11-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/18/è§£å†³è”ç½‘æœåŠ¡ç«¯è¿”å›405é—®é¢˜/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/18/è§£å†³è”ç½‘æœåŠ¡ç«¯è¿”å›405é—®é¢˜/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2016/11/18/è§£å†³è”ç½‘æœåŠ¡ç«¯è¿”å›405é—®é¢˜/" class="leancloud_visitors" data-flag-title="è§£å†³è”ç½‘ä¸‹è½½æœåŠ¡ç«¯è¿”å›405é—®é¢˜">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">visitors </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ€è¿‘é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨é¡¹ç›®ä¸­æœ‰ä¸€ä¸ªå¯åŠ¨é¡µå¹¿å‘Šå›¾ç‰‡ä¸‹è½½çš„åŠŸèƒ½ï¼Œä¹‹å‰èƒ½å¤Ÿæ­£å¸¸ä¸‹è½½ï¼Œç”±äºè¿™ä¸ªç‰ˆæœ¬é‡åˆ°äº†è¿è¥å•†DNSåŠ«æŒçš„é—®é¢˜ï¼ŒæœåŠ¡ç«¯è¦è°ƒæ•´å›¾ç‰‡çš„ä¸‹è½½è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯æ”¹å˜äº†å›¾ç‰‡çš„é“¾æ¥åœ°å€ã€‚ä¿®æ”¹åœ°å€ä¹‹åä¸‹è½½å°±å‡ºç°å¼‚å¸¸äº†ï¼Œç»è¿‡æ–­ç‚¹è°ƒè¯•å‘ç°httpè¯·æ±‚çš„è¿”å›ç ä¸º405ï¼ŒæŸ¥äº†ä¸€ä¸‹405çš„æ„æ€ã€‚</p>
<blockquote>
<p>405    Method Not Allowedï¼ˆä¸å…è®¸ä½¿ç”¨çš„æ–¹æ³•ï¼‰    ä¸æ”¯æŒè¯¥Requestçš„æ–¹æ³•ã€‚</p>
</blockquote>
<p>é‚£ä¹ˆæˆ‘ä»¬å°±çŸ¥é“çªç ´ç‚¹äº†ï¼Œåªéœ€è¦è®¾ç½®æ­£ç¡®çš„è¯·æ±‚æ–¹æ³•å°±å¯ä»¥è§£å†³é—®é¢˜ã€‚åŸæœ¬çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">downloadImage</span><span class="params">(SplashBean splashBean)</span> </span>&#123;</div><div class="line">       <span class="keyword">for</span> (<span class="keyword">final</span> SplashImage splashImage : splashBean.data.list) &#123;</div><div class="line">           String name = URLUtil.guessFileName(splashImage.image, <span class="string">"Content-Disposition"</span>, <span class="keyword">null</span>);</div><div class="line">           <span class="keyword">if</span> (!TextUtils.isEmpty(splashImage.image)) &#123;</div><div class="line">               InputStream is = <span class="keyword">null</span>;</div><div class="line">               FileOutputStream fileOutputStream = <span class="keyword">null</span>;</div><div class="line">               <span class="keyword">try</span> &#123;</div><div class="line">                   URL url = <span class="keyword">new</span> URL(splashImage.image);</div><div class="line">                   HttpURLConnection conn = (HttpURLConnection) url.openConnection();</div><div class="line">                   conn.setReadTimeout(<span class="number">5000</span>);</div><div class="line">                   conn.setConnectTimeout(<span class="number">5000</span>);</div><div class="line">                   conn.setDoOutput(<span class="keyword">true</span>);</div><div class="line">                   <span class="keyword">if</span> (HttpURLConnection.HTTP_OK != conn.getResponseCode()) &#123;</div><div class="line">                       Log2345.d(TAG, <span class="string">"è¿æ¥å¼‚å¸¸---responseCode = "</span> + conn.getResponseCode());</div><div class="line">                       <span class="keyword">return</span>;</div><div class="line">                   &#125;</div><div class="line">                   is = conn.getInputStream();</div><div class="line">                   File imageFile = <span class="keyword">new</span> File(StorageUtils.getCacheDirectory(AllianceApplication.appContext), name);</div><div class="line">                   fileOutputStream = <span class="keyword">new</span> FileOutputStream(imageFile);</div><div class="line">                   <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">16</span> * <span class="number">1024</span>];</div><div class="line">                   <span class="keyword">int</span> read;</div><div class="line">                   <span class="keyword">while</span> ((read = is.read(buffer)) != -<span class="number">1</span>) &#123;</div><div class="line">                       fileOutputStream.write(buffer, <span class="number">0</span>, read);</div><div class="line">                   &#125;</div><div class="line">                   is.close();</div><div class="line">                   fileOutputStream.close();</div><div class="line">                   <span class="comment">/**</span></div><div class="line">                    * å¯¹æ¯”æ–‡ä»¶MD5å€¼</div><div class="line">                    */</div><div class="line">                   String md5 = GetMD5.getMd5ByFile(imageFile);</div><div class="line">                   Log2345.d(TAG, <span class="string">"MD5å¯¹æ¯”:"</span> + md5 + <span class="string">"--"</span> + splashImage.md5);</div><div class="line">                   <span class="keyword">if</span> (md5.equals(splashImage.md5)) &#123;</div><div class="line">                       files.add(imageFile);</div><div class="line">                   &#125;</div><div class="line"></div><div class="line">                   <span class="keyword">if</span> (files.size() == splashBean.data.list.size()) &#123;</div><div class="line">                       Log2345.d(TAG, <span class="string">"file.size = "</span> + files.size());</div><div class="line">                       SharedPreferencesUtils.setSplashVersion(splashBean.data.version);</div><div class="line">                   &#125;</div><div class="line">                   SharedPreferencesUtils.setSplashInfo(JSON.toJSONString(splashBean));</div><div class="line">               &#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">                   e.printStackTrace();</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p>é€šè¿‡æŠ“åŒ…å‘ç°å‘é€å‡ºå»çš„è¯·æ±‚ä¸º POST è¯·æ±‚ï¼Œè¿™ç‚¹å°±æœ‰ç‚¹å¥‡æ€ªäº†ï¼ŒHttpURLConnection é»˜è®¤çš„è¯·æ±‚æ–¹æ³•åº”è¯¥æ˜¯ GET æ±‚ï¼Œåœ¨è¿™é‡Œæˆ‘å¹¶æ²¡æœ‰è®¾ç½®è¯·æ±‚æ–¹æ³•ä¸ºä»€ä¹ˆæŠ“åŒ…çœ‹åˆ°çš„æ˜¯ POST è¯·æ±‚å‘¢ï¼Ÿäºæ˜¯åœ¨ <a href="http://stackoverflow.com/questions/35129894/android-httpurlconnection-set-get-request-method" target="_blank" rel="external">StackOverFlow</a> ä¸Šæ‰¾åˆ°äº†åŸå› ã€‚</p>
<p><img src="http://oexd4zy6v.bkt.clouddn.com/2B1B0798-1922-4B6B-9A78-9FC16303A7EF.png" alt="StackOverFlow"></p>
<p>çœ‹å­—é¢çš„æ„æ€æ˜¯è¯´å¦‚æœè°ƒç”¨äº† <strong><em>setDoOutput(true)</em></strong> è¿™ä¸ªæ–¹æ³•çš„è¯ï¼Œé»˜è®¤çš„ GET è¯·æ±‚ä¼šæ”¹å˜ä¸º POST è¯·æ±‚ï¼Œå› ä¸º GET è¯·æ±‚æ˜¯æ²¡æœ‰ request body çš„ã€‚è¿™å°±è§£é‡Šäº†ä¹‹å‰ä¸ºä»€ä¹ˆæ²¡æœ‰è®¾ç½®è¯·æ±‚æ–¹æ³•é»˜è®¤åº”è¯¥æ˜¯ GET è¯·æ±‚ï¼ŒæŠ“åŒ…ç¼ºçœ‹åˆ°çš„æ˜¯ POST è¯·æ±‚äº†ã€‚é‚£ä¹ˆåªéœ€è¦ä¿®æ”¹ä¸€ä¸‹ä»£ç é—®é¢˜å°±è§£å†³äº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">HttpURLConnection conn = (HttpURLConnection) url.openConnection();</div><div class="line">conn.setRequestMethod(<span class="string">"GET"</span>);<span class="comment">//è®¾ç½®è¯·æ±‚æ–¹æ³•ä¸º GET è¯·æ±‚</span></div><div class="line">conn.setUseCaches(<span class="keyword">false</span>);</div><div class="line">conn.setReadTimeout(<span class="number">5000</span>);</div><div class="line">conn.setConnectTimeout(<span class="number">5000</span>);</div></pre></td></tr></table></figure>
<p>å¦‚ä¸Šä»£ç ï¼Œåˆ é™¤æ‰ <strong><em>setDoOutput(true)</em></strong> è¿™ä¸ªæ–¹æ³•å³å¯ã€‚è¿™ä¸ªæ—¶å€™é—®é¢˜å·²ç»è§£å†³äº†ï¼Œè¯·æ±‚è¿”å›ç ä¸º 200 ï¼Œå›¾ç‰‡ä¸‹è½½æˆåŠŸ~</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/18/Piccassoåœ†å½¢å›¾ç‰‡åŠåœ†è§’å›¾ç‰‡å¤„ç†/" itemprop="url">
                  Piccassoå›¾ç‰‡åœ†è§’åŠåœ†å½¢å›¾ç‰‡å®ç°
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-10-18T20:24:52+08:00" content="2016-10-18">
              2016-10-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/18/Piccassoåœ†å½¢å›¾ç‰‡åŠåœ†è§’å›¾ç‰‡å¤„ç†/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/18/Piccassoåœ†å½¢å›¾ç‰‡åŠåœ†è§’å›¾ç‰‡å¤„ç†/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2016/10/18/Piccassoåœ†å½¢å›¾ç‰‡åŠåœ†è§’å›¾ç‰‡å¤„ç†/" class="leancloud_visitors" data-flag-title="Piccassoå›¾ç‰‡åœ†è§’åŠåœ†å½¢å›¾ç‰‡å®ç°">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">visitors </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>åœ¨å¼€å‘ä¸­æˆ‘ä»¬ä¼šç»å¸¸é‡åˆ°å¯¹å›¾ç‰‡è¿›è¡Œåœ†è§’å¤„ç†ï¼Œä»¥åŠç°åœ¨æµè¡Œçš„å¤´åƒç­‰å°†å›¾ç‰‡å¤„ç†æˆåœ†å½¢ï¼ŒPiccassoæä¾›äº†transformè¿™ä¸ªæœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæœºåˆ¶ï¼Œåœ¨å›¾ç‰‡å±•ç¤ºä¹‹å‰å¯¹å›¾ç‰‡è¿›è¡Œå¤„ç†ï¼Œå¤„ç†æ–¹å¼åªéœ€è¦å®ç°<br>Transformation æ¥å£å³å¯ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ç°ä»£ç ã€‚</p>
<h2 id="å›¾ç‰‡åœ†è§’"><a href="#å›¾ç‰‡åœ†è§’" class="headerlink" title="å›¾ç‰‡åœ†è§’"></a>å›¾ç‰‡åœ†è§’</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoundedTransform</span> <span class="keyword">implements</span> <span class="title">Transformation</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> radius;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> margin;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RoundedTransform</span><span class="params">(<span class="keyword">final</span> <span class="keyword">int</span> radius, <span class="keyword">final</span> <span class="keyword">int</span> margin)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.radius = radius;</div><div class="line">        <span class="keyword">this</span>.margin = margin;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> Bitmap <span class="title">transform</span><span class="params">(Bitmap source)</span> </span>&#123;</div><div class="line">        <span class="keyword">final</span> Paint paint = <span class="keyword">new</span> Paint();</div><div class="line">        paint.setAntiAlias(<span class="keyword">true</span>);</div><div class="line">        paint.setShader(<span class="keyword">new</span> BitmapShader(source, Shader.TileMode.CLAMP, Shader.TileMode.CLAMP));</div><div class="line">        Bitmap output = Bitmap.createBitmap(source.getWidth(), source.getHeight(), Bitmap.Config.ARGB_8888);</div><div class="line">        Canvas canvas = <span class="keyword">new</span> Canvas(output);</div><div class="line">        canvas.drawRoundRect(<span class="keyword">new</span> RectF(margin, margin, source.getWidth() - margin, source.getHeight() - margin), radius, radius, paint);</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (source != output) &#123;</div><div class="line">            source.recycle();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> output;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">key</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"rounded(radius="</span> + radius + <span class="string">", margin="</span> + margin + <span class="string">")"</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="åœ†å½¢å›¾ç‰‡"><a href="#åœ†å½¢å›¾ç‰‡" class="headerlink" title="åœ†å½¢å›¾ç‰‡"></a>åœ†å½¢å›¾ç‰‡</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleTransform</span> <span class="keyword">implements</span> <span class="title">Transformation</span> </span>&#123;</div><div class="line">  <span class="meta">@Override</span></div><div class="line">  <span class="function"><span class="keyword">public</span> Bitmap <span class="title">transform</span><span class="params">(Bitmap source)</span> </span>&#123;</div><div class="line">      <span class="keyword">int</span> size = Math.min(source.getWidth(), source.getHeight());</div><div class="line"></div><div class="line">      <span class="keyword">int</span> x = (source.getWidth() - size) / <span class="number">2</span>;</div><div class="line">      <span class="keyword">int</span> y = (source.getHeight() - size) / <span class="number">2</span>;</div><div class="line"></div><div class="line">      Bitmap squaredBitmap = Bitmap.createBitmap(source, x, y, size, size);</div><div class="line">      <span class="keyword">if</span> (squaredBitmap != source) &#123;</div><div class="line">          source.recycle();</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      Bitmap bitmap = Bitmap.createBitmap(size, size, source.getConfig());</div><div class="line"></div><div class="line">      Canvas canvas = <span class="keyword">new</span> Canvas(bitmap);</div><div class="line">      Paint paint = <span class="keyword">new</span> Paint();</div><div class="line">      BitmapShader shader = <span class="keyword">new</span> BitmapShader(squaredBitmap, BitmapShader.TileMode.CLAMP, BitmapShader.TileMode.CLAMP);</div><div class="line">      paint.setShader(shader);</div><div class="line">      paint.setAntiAlias(<span class="keyword">true</span>);</div><div class="line"></div><div class="line">      <span class="keyword">float</span> r = size / <span class="number">2f</span>;</div><div class="line">      canvas.drawCircle(r, r, r, paint);</div><div class="line"></div><div class="line">      squaredBitmap.recycle();</div><div class="line">      <span class="keyword">return</span> bitmap;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="meta">@Override</span></div><div class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">key</span><span class="params">()</span> </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">"circle"</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/13/GradleåŸºç¡€åŠå¸¸ç”¨å‘½ä»¤/" itemprop="url">
                  GradleåŸºç¡€åŠå¸¸ç”¨å‘½ä»¤
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-10-13T13:26:36+08:00" content="2016-10-13">
              2016-10-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Gradle/" itemprop="url" rel="index">
                    <span itemprop="name">Gradle</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/13/GradleåŸºç¡€åŠå¸¸ç”¨å‘½ä»¤/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/13/GradleåŸºç¡€åŠå¸¸ç”¨å‘½ä»¤/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2016/10/13/GradleåŸºç¡€åŠå¸¸ç”¨å‘½ä»¤/" class="leancloud_visitors" data-flag-title="GradleåŸºç¡€åŠå¸¸ç”¨å‘½ä»¤">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">visitors </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ä»€ä¹ˆæ˜¯Gradle"><a href="#ä»€ä¹ˆæ˜¯Gradle" class="headerlink" title="ä»€ä¹ˆæ˜¯Gradle"></a>ä»€ä¹ˆæ˜¯Gradle</h2><p>ç°åœ¨å¤§éƒ¨åˆ†çš„Androidå¼€å‘è€…æ‰€ç”¨çš„ IDE åº”è¯¥éƒ½æ˜¯ AndroidStudio äº†ï¼Œæˆ‘ä»¬çŸ¥é“ AS ä¸­çš„é¡¹ç›®æ˜¯åŸºäº Gradle æ„å»ºçš„ã€‚Gradle æ˜¯ä¸€ç§åŸºäº Groovy è¯­è¨€çš„æ„å»ºå·¥å…·ï¼ŒGroovy è¯­æ³•è·Ÿ Java è¯­æ³•å¾ˆç›¸åƒï¼Œæ˜¯ä¸€ç§åŠ¨æ€è¯­è¨€ï¼Œè€Œä¸”åœ¨ Java åŸºç¡€ä¸Šåšäº†ä¸å°‘æ”¹è¿›ï¼Œç”¨èµ·æ¥æ›´åŠ ç®€æ´ã€çµæ´»ã€‚</p>
<h2 id="Gradle-Wrapper"><a href="#Gradle-Wrapper" class="headerlink" title="Gradle Wrapper"></a>Gradle Wrapper</h2><p>ç°åœ¨é»˜è®¤æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œç„¶åç‚¹å‡» AS ä¸Šè¿è¡Œï¼Œé»˜è®¤å°±ä¼šç›´æ¥å¸®ä½ å®‰è£… Gradle ï¼Œæˆ‘ä»¬ä¸éœ€è¦é¢å¤–çš„å®‰è£… Gradle äº†ï¼Œä½†æ˜¯å…¶å®è¿™ä¸ª Gradle ä¸æ˜¯çœŸæ­£çš„ Gradle ï¼Œä»–å« Gradle Wrapper ï¼Œæ„ä¸º Gradle çš„åŒ…è£…ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå‡è®¾æˆ‘ä»¬æœ¬åœ°æœ‰å¤šä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªæ˜¯æ¯”è¾ƒè€çš„é¡¹ç›®ï¼Œè¿˜ç”¨ç€ Gradle 1.0 çš„ç‰ˆæœ¬ï¼Œä¸€ä¸ªæ˜¯æ¯”è¾ƒæ–°çš„é¡¹ç›®ç”¨äº† Gradle 2.0 çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯ä½ ä¸¤ä¸ªé¡¹ç›®è‚¯å®šéƒ½æƒ³è¦åŒæ—¶è¿è¡Œçš„ï¼Œå¦‚æœä½ åªè£…äº† Gradle 1.0 çš„è¯é‚£è‚¯å®šä¸è¡Œï¼Œæ‰€ä»¥ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒGoogle æ¨å‡ºäº† Gradle Wrapper çš„æ¦‚å¿µï¼Œå°±æ˜¯ä»–åœ¨ä½ æ¯ä¸ªé¡¹ç›®éƒ½é…ç½®äº†ä¸€ä¸ªæŒ‡å®šç‰ˆæœ¬çš„ Gradle ï¼Œä½ å¯ä»¥ç†è§£ä¸ºæ¯ä¸ª Android é¡¹ç›®æœ¬åœ°éƒ½æœ‰ä¸€ä¸ªå°å‹çš„ Gradle ï¼Œé€šè¿‡è¿™ä¸ªæ¯ä¸ªé¡¹ç›®ä½ å¯ä»¥æ”¯æŒç”¨ä¸åŒçš„ Gradle ç‰ˆæœ¬æ¥æ„å»ºé¡¹ç›®ã€‚</p>
<h2 id="Gradleå¸¸ç”¨å‘½ä»¤"><a href="#Gradleå¸¸ç”¨å‘½ä»¤" class="headerlink" title="Gradleå¸¸ç”¨å‘½ä»¤"></a>Gradleå¸¸ç”¨å‘½ä»¤</h2><ul>
<li>æŸ¥çœ‹æ„å»ºç‰ˆæœ¬ ./gradlew -v</li>
<li>æ¸…é™¤buildæ–‡ä»¶å¤¹ ./gradlew clean</li>
<li>æ£€æŸ¥ä¾èµ–å¹¶ç¼–è¯‘æ‰“åŒ… ./gradlew build (ä¼šæŠŠdebugå’ŒreleaseåŒ…éƒ½æ‰“å‡ºæ¥)</li>
<li>ç¼–è¯‘å¹¶æ‰“DebugåŒ… ./gradlew assembleDebug</li>
<li>ç¼–è¯‘å¹¶æ‰“releaseåŒ… ./gradlew assembleRelease</li>
<li>Releaseæ¨¡å¼æ‰“åŒ…å¹¶å®‰è£… ./gradlew installRelease</li>
<li>å¸è½½Releaseæ¨¡å¼åŒ… ./gradlew uninstallRelease</li>
</ul>
<p>assembleè¿˜å¯ä»¥ç»“åˆproductFlavorå®ç°å¤šæ¸ é“æ‰“åŒ…</p>
<p>æ³¨ï¼š./ ä»£è¡¨å½“å‰ç›®å½•ï¼Œgradlew æ„ä¸º Gradle Wrapper</p>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p><a href="http://stormzhang.com/devtools/2014/12/18/android-studio-tutorial4/" target="_blank" rel="external">GRADLEåŸºç¡€</a></p>
<p><a href="http://www.jianshu.com/p/a03f4f6ae31d" target="_blank" rel="external">Gradle å¸¸ç”¨å‘½ä»¤å‚æ•°åŠè§£é‡Š</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/12/ä¸‰æ˜Ÿæ‰‹æœºæ‹ç…§å›¾ç‰‡è‡ªåŠ¨æ—‹è§£å†³æ–¹æ³•/" itemprop="url">
                  ä¸‰æ˜Ÿæ‰‹æœºæ‹ç…§å›¾ç‰‡è‡ªåŠ¨æ—‹è§£å†³æ–¹æ³•
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-10-12T09:35:33+08:00" content="2016-10-12">
              2016-10-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/12/ä¸‰æ˜Ÿæ‰‹æœºæ‹ç…§å›¾ç‰‡è‡ªåŠ¨æ—‹è§£å†³æ–¹æ³•/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/12/ä¸‰æ˜Ÿæ‰‹æœºæ‹ç…§å›¾ç‰‡è‡ªåŠ¨æ—‹è§£å†³æ–¹æ³•/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2016/10/12/ä¸‰æ˜Ÿæ‰‹æœºæ‹ç…§å›¾ç‰‡è‡ªåŠ¨æ—‹è§£å†³æ–¹æ³•/" class="leancloud_visitors" data-flag-title="ä¸‰æ˜Ÿæ‰‹æœºæ‹ç…§å›¾ç‰‡è‡ªåŠ¨æ—‹è§£å†³æ–¹æ³•">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">visitors </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ€è¿‘é¡¹ç›®ä¸­é‡åˆ°ä¸€ä¸ªæ‰‹æœºæ‹ç…§çš„é—®é¢˜ï¼Œå°±æ˜¯ä¸‰æ˜Ÿã€ç´¢å°¼ç­‰å‚å®¶çš„æ‰‹æœºæ‹æ‘„çš„ç…§ç‰‡å‘ˆç°åœ¨ImageViewä¸Šçš„æ—¶å€™å›¾ç‰‡ä¼šè‡ªåŠ¨çš„æ—‹è½¬ï¼Œç”±äºé¡¹ç›®ä¸­æœ‰å‘å¸–åŠŸèƒ½ï¼Œè¿™æ ·ç”¨æˆ·åœ¨ä¸Šä¼ å›¾ç‰‡çš„æ—¶å›¾ç‰‡çš„è§’åº¦å°±ä¸æ­£ç¡®äº†ã€‚åœ¨æœç´¢äº†ä¸€äº›èµ„æ–™ä¹‹åï¼Œæ‰¾åˆ°äº†è§£å†³åŠæ³•ï¼Œæ€è·¯å¾ˆç®€å•ï¼š</p>
<ol>
<li>è·å–å›¾ç‰‡æ—‹è½¬çš„è§’åº¦</li>
<li>åœ¨æ˜¾ç¤ºå›¾ç‰‡æ—¶ä½¿å›¾ç‰‡æ—‹è½¬å›æ­£ç¡®çš„è§’åº¦</li>
</ol>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ç°ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line">  * è¯»å–å›¾ç‰‡çš„æ—‹è½¬çš„è§’åº¦</div><div class="line">  * <span class="doctag">@param</span> path å›¾ç‰‡ç»å¯¹è·¯å¾„</div><div class="line">  * <span class="doctag">@return</span> å›¾ç‰‡çš„æ—‹è½¬è§’åº¦</div><div class="line">  */</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getBitmapDegree</span><span class="params">(String path)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> degree = <span class="number">0</span>;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            <span class="comment">// ä»æŒ‡å®šè·¯å¾„ä¸‹è¯»å–å›¾ç‰‡ï¼Œå¹¶è·å–å…¶EXIFä¿¡æ¯</span></div><div class="line">            ExifInterface exifInterface = <span class="keyword">new</span> ExifInterface(path);</div><div class="line">            <span class="comment">// è·å–å›¾ç‰‡çš„æ—‹è½¬ä¿¡æ¯</span></div><div class="line">            <span class="keyword">int</span> orientation = exifInterface.getAttributeInt(ExifInterface.TAG_ORIENTATION,</div><div class="line">                    ExifInterface.ORIENTATION_NORMAL);</div><div class="line">            <span class="keyword">switch</span> (orientation) &#123;</div><div class="line">                <span class="keyword">case</span> ExifInterface.ORIENTATION_ROTATE_90:</div><div class="line">                    degree = <span class="number">90</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> ExifInterface.ORIENTATION_ROTATE_180:</div><div class="line">                    degree = <span class="number">180</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> ExifInterface.ORIENTATION_ROTATE_270:</div><div class="line">                    degree = <span class="number">270</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> degree;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>ä»£ç å¾ˆå®¹æ˜“ç†è§£ï¼Œæ³¨é‡Šå†™å¾ˆæ¸…æ¥šï¼Œåœ¨è®¾ç½®æ˜¾ç¤ºå›¾ç‰‡æ—¶æ ¹æ®è·å–çš„æ—‹è½¬è§’åº¦å°†å›¾ç‰‡æ—‹è½¬å›å»å³å¯ï¼Œè¿™æ ·é—®é¢˜å°±è§£å†³äº†ï¼Œenjoy ğŸ˜</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.png"
               alt="lihongxiangleo" />
          <p class="site-author-name" itemprop="name">lihongxiangleo</p>
          <p class="site-description motion-element" itemprop="description">AndroidDeveloper Popping Dancer</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">6</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/lihongxiangleo" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/2342345700/profile?rightmod=1&wvr=6&mod=personinfo&is_all=1" target="_blank" title="å¾®åš">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  å¾®åš
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.douban.com/people/lihongxiangleo/" target="_blank" title="è±†ç“£">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  è±†ç“£
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lihongxiangleo</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.2"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"lihongxiangleo"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("x0aDVK4dOMkXaKMd5QMxOmz0-gzGzoHsz", "eBCJeezw1hpIfw32J0VqJrj8");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  
  <!-- èƒŒæ™¯åŠ¨ç”» -->
<script type="text/javascript" src="/js/src/particle.js"></script>
</body>

</html>
